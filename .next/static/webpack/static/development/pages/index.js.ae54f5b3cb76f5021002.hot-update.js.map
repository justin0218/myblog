{"version":3,"file":"static/webpack/static/development/pages/index.js.ae54f5b3cb76f5021002.hot-update.js","sources":["webpack:///./apis/blog.js"],"sourcesContent":["import axios from 'axios';\nimport {apiHost} from '../utils/config';\nimport readStream from '../utils/util';\nimport protobuf from \"../proto/resp_pb\";\nimport blobComment from \"../proto/blogComment_pb\";\nimport e from \"../proto/errors_pb\";\nexport const GetBlogList = async (tp,name) => {\n    let res = await axios.get(`${apiHost}/v1/client/blog/list?tp=${tp}&name=${name}`,{\n        responseType: 'blob'\n    })\n    let data = await readStream(res.data);\n    let message = protobuf.blog_list.deserializeBinary(data);\n    data = message.toObject();\n    return data;\n}\n\nexport const GetBlogDetail = async (id) => {\n    let meDetail = await axios.get(`${apiHost}/v1/client/blog/detail?id=${id}`,{\n        responseType: 'blob'\n    })\n    let medata = await readStream(meDetail.data);\n    let meMessage = protobuf.blog_detail.deserializeBinary(medata);\n    return meMessage.toObject();\n}\n\nexport const GetBlogTypes = async () => {\n    let res = await axios.get(`${apiHost}/v1/client/blog/types`,{\n        responseType: 'blob'\n    })\n    let data = await readStream(res.data);\n    let message = protobuf.blog_types.deserializeBinary(data);\n    return message.toObject();\n}\n\nexport const GetBlogRanking = async (limit = 5) => {\n    let rankingRes = await axios.get(`${apiHost}/v1/client/blog/ranking?limit=${limit}`,{\n        responseType: 'blob'\n    })\n    let rankingData = await readStream(rankingRes.data);\n    let rankingMessage = protobuf.blog_list.deserializeBinary(rankingData);\n    return rankingMessage.toObject();\n}\n\nexport const GetBlogRecommend = async () => {\n    let recommendRes = await axios.get(`${apiHost}/v1/client/blog/recommend`,{\n        responseType: 'blob'\n    })\n    let recommendData = await readStream(recommendRes.data);\n    let recommendMessage = protobuf.blog_list.deserializeBinary(recommendData);\n    return recommendMessage.toObject();\n}\n\nexport const GetBlogComments = async (id = 0) => {\n    let commentRes = await axios.get(`${apiHost}/v1/client/blog/comment/list?blog_id=${id}`,{\n        responseType: 'blob'\n    })\n    let commentData = await readStream(commentRes.data);\n    let commentMessage = protobuf.blog_comments.deserializeBinary(commentData);\n    return commentMessage.toObject()\n}\n\nexport const SubMitComment = async (saytext) => {\n    let message = new blobComment.blog_comment();\n        message.setContent(saytext);\n    let bytes = message.serializeBinary();\n    let res = await axios.post(`${apiHost}/v1/client/blog/comment/submit`,bytes,{\n        responseType: 'blob',\n        headers: {'Content-Type':'application/octet-stream'}\n    })\n    let data = await readStream(res.data);\n    data = e.resp.deserializeBinary(data);\n    return data.toObject()\n}\n\n\n\n\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AACA;AAFA;AACA;AADA;AAAA;AACA;AADA;AAIA;AACA;AACA;AANA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AACA;AAFA;AACA;AADA;AAAA;AACA;AADA;AAIA;AACA;AALA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AACA;AAFA;AACA;AADA;AAAA;AACA;AADA;AAIA;AACA;AALA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AACA;AAFA;AACA;AADA;AAAA;AACA;AADA;AAIA;AACA;AALA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AACA;AAFA;AACA;AADA;AAAA;AACA;AADA;AAIA;AACA;AALA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AACA;AAFA;AACA;AADA;AAAA;AACA;AADA;AAIA;AACA;AALA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AAKA;AACA;AAAA;AAAA;AAFA;AACA;AALA;AAIA;AAJA;AAAA;AACA;AADA;AAQA;AACA;AATA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}