{"version":3,"file":"static/webpack/static/development/pages/index.js.bef34315751fed968fd0.hot-update.js","sources":["webpack:///./apis/blog.js","webpack:///./pages/index.js"],"sourcesContent":["import axios from 'axios';\nimport {apiHost} from '../utils/config';\nexport const GetBlogList = async (tp) => {\n    let res = await axios.get(`${apiHost}/v1/client/blog/list?tp=${tp}`,{\n        responseType: 'blob'\n      })\n      let data = await readStream(res.data);\n      let message = protobuf.blog_list.deserializeBinary(data);\n      data = message.toObject();\n      return data;\n}","import Layout from '../components/layout'\nimport tps from '../utils/blog_types'\nimport {apiHost} from '../utils/config'\nimport axios from 'axios'\nimport readStream from '../utils/util'\nimport protobuf from \"../proto/resp_pb\";\nimport Event from '../utils/emiter';\nimport * as api from '../apis/blog';\nexport default class extends React.Component {\n  static async getInitialProps({ req,query,jsonPageRes }) {\n    const userAgent = req ? req.headers['user-agent'] : navigator.userAgent\n    return { userAgent,query,jsonPageRes }\n  }\n\n  state = {\n      blogList:[],\n      leftHeight:0\n  }\n\n  async loadList(tp){\n    let data = await api.GetBlogList(tp)\n    this.setState({blogList:data.blogArticleListList})\n  }\n\n  async componentDidMount(){\n    await this.loadList(-1)\n  }\n\n  render() {\n    let {blogList,leftHeight} = this.state;\n    return (\n      <Layout>\n        {\n          blogList.map((item,k)=>(\n            <div className=\"right_item\" key={k}>\n              {item.cover && <i><img className=\"coverimg\" src={item.cover} /></i>}\n              <h3>{item.recommended == 1 && \"[ é¡¶ ]\"} <span style={{color:\"#222\"}} onClick={()=>{\n                location.href = `/detail?id=${item.id}`\n              }} className=\"blogname\">{item.name}</span></h3>\n              <p>{item.preface}</p>\n            </div>\n          ))\n        }\n        <style jsx>{`\n          .blogname:hover{\n            text-decoration: underline;\n            cursor: pointer;\n            color: #555;\n          }\n          .coverimg{\n            float: right;\n            clear: right;\n            width: 100%;\n            -webkit-transition: all 0.5s;\n            -moz-transition: all 0.5s;\n            transition: all 0.5s;\n            cursor: pointer;\n          }\n          .coverimg:hover{\n            transform: scale(1.2);\n            -webkit-transform: scale(1.2);\n          }\n          .right_item p {\n            margin: 20px 0 0 0;\n            line-height: 22px;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            -webkit-box-orient: vertical;\n            display: -webkit-box;\n            -webkit-line-clamp: 2;\n          }\n          .right_item h3{\n            font-size: 16px;\n            line-height: 25px;\n            text-shadow: #FFF 1px 1px 1px;\n            color: #de4949;\n            margin:0;\n          }\n          .right_item i{\n            width: 150px;\n            display: block;\n            max-height: 100px;\n            overflow: hidden;\n            float: right;\n            margin-left: 20px;\n          }\n          .right_item{\n            background: rgba(255,255,255,0.8);\n            padding: 15px;\n            overflow: hidden;\n            color: #797b7c;\n            margin-bottom: 20px;\n            cursor: pointer;\n          }\n        `}</style>\n      </Layout>    \n        \n    )\n  }\n}\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AACA;AAFA;AACA;AADA;AAAA;AACA;AADA;AAIA;AACA;AACA;AANA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AAMA;AACA;AACA;AAFA;AACA;;;;;;;;;AAIA;;;;;;;AACA;AACA;;AADA;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;;;;;;;;;;;;;;;;;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;AAFA;AAAA;AAAA;AAmEA;;;;;;;;;;;;AAzFA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAJA;AACA;;;;;A","sourceRoot":""}