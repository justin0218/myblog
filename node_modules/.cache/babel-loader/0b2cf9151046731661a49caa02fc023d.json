{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nimport Layout from './layout';\nimport tps from '../utils/blog_types'; // import banner from '../images/banner'\n\nimport Event from '../utils/emiter';\nvar timer = null;\n\nvar _default =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(_default, _React$Component);\n\n  function _default() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(_default)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      path: \"\",\n      headerTop: 0\n    });\n\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        var rightHeight, leftHeight;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                document.onscroll = function () {\n                  rightHeight = document.getElementsByClassName(\"right_box\")[0].clientHeight;\n                  leftHeight = document.getElementById(\"left_box\").clientHeight;\n\n                  if (leftHeight == 0 && rightHeight == 0) {\n                    return;\n                  }\n\n                  var scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n\n                  if (scrollTop > 62 + 20) {\n                    _this2.setState({\n                      headerTop: -61\n                    });\n                  } else {\n                    _this2.setState({\n                      headerTop: 0\n                    });\n                  }\n\n                  if (scrollTop > 42 && scrollTop < rightHeight - leftHeight + 45) {\n                    Event.emit(\"left-fix\");\n                  } else if (scrollTop < 62 + 20) {\n                    Event.emit(\"left-static\", 0);\n                  } else if (scrollTop > rightHeight - leftHeight + 45) {\n                    Event.emit(\"left-static\", rightHeight - leftHeight); // if(location.pathname == \"/detail\"){\n                    //   Event.emit(\"left-static\",rightHeight - leftHeight + 20)\n                    // }else{\n                    //   Event.emit(\"left-static\",rightHeight - leftHeight)\n                    // }\n                  }\n                }; //}, 1000);\n                // let rightHeight = document.getElementsByClassName(\"right_box\")[0].clientHeight;\n                // if (scrollTop > 62 + 20){\n                // }\n\n\n                this.setState({\n                  path: location.pathname\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          path = _this$state.path,\n          headerTop = _this$state.headerTop;\n      return React.createElement(\"div\", {\n        className: \"jsx-2773910157\"\n      }, React.createElement(\"div\", {\n        style: {\n          width: \"100%\",\n          height: 61,\n          transition: \"0.3s\",\n          WebkitTransition: \"0.3s\",\n          backgroundColor: \"rgba(255,255,255,0.9)\",\n          position: \"fixed\",\n          borderBottom: \"1px solid #ddd\",\n          boxShadow: \"0 1px 1px rgba(0,0,0,.04)\",\n          zIndex: 999,\n          top: headerTop\n        },\n        className: \"jsx-2773910157\"\n      }, React.createElement(\"div\", {\n        style: {\n          width: 1000,\n          margin: \"0 auto\",\n          height: \"100%\",\n          lineHeight: \"60px\",\n          fontSize: 22\n        },\n        className: \"jsx-2773910157\"\n      }, React.createElement(\"div\", {\n        style: {\n          float: 'left'\n        },\n        className: \"jsx-2773910157\"\n      }, \"Simple\"), React.createElement(\"ul\", {\n        id: \"starlist\",\n        style: {\n          float: \"right\",\n          margin: 0\n        },\n        className: \"jsx-2773910157\"\n      }, React.createElement(\"li\", {\n        className: \"jsx-2773910157\"\n      }, React.createElement(\"a\", {\n        href: \"/\",\n        style: path == \"/\" ? {\n          color: \"#f65a8a\"\n        } : {},\n        className: \"jsx-2773910157\"\n      }, \"\\u9996\\u9875\")), React.createElement(\"li\", {\n        className: \"jsx-2773910157\"\n      }, React.createElement(\"a\", {\n        href: \"/article\",\n        style: path == \"/article\" || path == \"/detail\" ? {\n          color: \"#f65a8a\"\n        } : {},\n        className: \"jsx-2773910157\"\n      }, \"\\u6587\\u7AE0\")), React.createElement(\"li\", {\n        className: \"jsx-2773910157\"\n      }, React.createElement(\"a\", {\n        href: \"/article\",\n        style: path == \"/1\" ? {\n          color: \"#f65a8a\"\n        } : {},\n        className: \"jsx-2773910157\"\n      }, \"\\u76F8\\u518C\")), React.createElement(\"li\", {\n        className: \"jsx-2773910157\"\n      }, React.createElement(\"a\", {\n        href: \"/article\",\n        style: path == \"/2\" ? {\n          color: \"#f65a8a\"\n        } : {},\n        className: \"jsx-2773910157\"\n      }, \"\\u7559\\u8A00\")), React.createElement(\"li\", {\n        className: \"jsx-2773910157\"\n      }, React.createElement(\"a\", {\n        href: \"/article\",\n        style: path == \"/3\" ? {\n          color: \"#f65a8a\"\n        } : {},\n        className: \"jsx-2773910157\"\n      }, \"\\u5173\\u4E8E\"))))), React.createElement(\"div\", {\n        style: {\n          height: 75\n        },\n        className: \"jsx-2773910157\"\n      }), React.createElement(_JSXStyle, {\n        id: \"2773910157\"\n      }, [\"#starlist.jsx-2773910157 li.jsx-2773910157{float:left;display:block;padding:0 0 0 40px;font-size:16px;}\", \"#starlist.jsx-2773910157 li.jsx-2773910157 a.jsx-2773910157{-webkit-text-decoration:none;text-decoration:none;color:#555;}\"]));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(_ref) {\n        var req, query, jsonPageRes, userAgent;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                req = _ref.req, query = _ref.query, jsonPageRes = _ref.jsonPageRes;\n                userAgent = req ? req.headers['user-agent'] : navigator.userAgent;\n                return _context2.abrupt(\"return\", {\n                  userAgent: userAgent,\n                  query: query,\n                  jsonPageRes: jsonPageRes\n                });\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return _default;\n}(React.Component);\n\nexport { _default as default };","map":null,"metadata":{},"sourceType":"module"}